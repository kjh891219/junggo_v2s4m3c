<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mobile">

<insert id="create" parameterType="MobileVO">

INSERT INTO mobile(mno,  category , nickname, passwd, deal_way, deal_code, 
 product_code, hprice, region, tel, email, quantity, title, content,
 purc_date, telecome, userid)  
VALUES((SELECT NVL(MAX(mno), 0) + 1 as mno FROM mobile), #{category}, #{nickname}, #{passwd}, #{deal_way},
 #{deal_code}, #{product_code},  #{hprice}, #{region}, #{tel}, #{email}, #{quantity}, #{title}, #{content},
  #{purc_date},#{telecome} ,#{userid})
  </insert>
  
 <select id="list" resultType="MobileVO">
   SELECT mno,  category , nickname, passwd, deal_way, deal_code, 
   product_code, hprice, region, tel, email, quantity, title, content,
   purc_date, wdate, cnt, telecome, userid
   FROM mobile 
   ORDER BY mno ASC
  </select>

 <update id="update" parameterType="MobileVO">
 UPDATE mobile 
 SET category = #{category} , nickname = #{nickname}, passwd = #{passwd}, deal_way = #{deal_way}, deal_code = #{deal_code}, 
 product_code = #{product_code}, hprice = #{hprice}, region = #{region}, tel = #{tel}, email = #{email}, quantity = #{quantity}, 
 title = #{title}, content = #{content}, purc_date = #{purc_date}, telecome = #{telecome} 
 WHERE mno=#{mno}
</update>     
   <select id="read" resultType="MobileVO" parameterType="int">
  SELECT mno,  category , nickname, passwd, deal_way, deal_code, 
  product_code, hprice, region, tel, email, quantity, title, content,
  purc_date, wdate, cnt, telecome ,userid
  FROM mobile 
   WHERE mno= #{mno}
  </select> 
  
  <delete id="delete" parameterType="int">
    DELETE FROM mobile
    WHERE mno = #{mno}
  </delete> 
      
      
</mapper>